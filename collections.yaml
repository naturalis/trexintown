# this yaml is a job for turning on the museum

collections:
  trex-in-town:
    name: T.rex in Town
    type: exhibition
    state: enabled
    actions:
      poweron:
        description: turn on the trex in down exhibition
        blocking: true
        sequence:
          - objective: delay
            description: waiting for 3 seconds
            time: 5
          - description: turning on kissboxes # stage one
            objective: poweron
            devices:
            - powerrelay-001
            - powerrelay-002
          - objective: delay
            description: waiting for 3 seconds
            time: 5
          - description: turing on all computers
            objective: poweron
            devices:
              - powerrelay-003
              - powerrelay-004
              - interactive-gym-001

  beamers-trex:
    name: Beamers T.rex in Town
    type: set
    actions:
      poweron:
        description: turn on the trex in down exhibition
        blocking: false
        sequence:
          - description: turning on kissboxes # stage one
            objective: poweron
            devices:
            - kissbox-from-a
            - <other ids>- objective: delay
            description: waiting for 3 seconds
            time: 23
          - objective: delay
            description: waiting for 3 seconds
            time: 3
          - description: turing on all computers
            objective: poweron
            devices:
              - computer-a
              - computer-b
              - beamer-a
  trex-in-test:
    name: T.rex in Test
    type: exhibition
    state: enabled
    actions:
      poweron:
        description: turn on the trex in test exhibition
        blocking: true
        sequence:
          - objective: delay
            description: waiting for 3 seconds
            time: 3
          - description: turing on all computers
            objective: poweron
            devices:
              - windows-test-001
              - linux-test-001
          - objective: delay
            description: waiting for 3 seconds
            time: 5
      poweroff:
        description: Turn on the T.rex in Test exhibition
        blocking: true
        sequence:
          - description: Turning on all computers
            objective: poweroff
            devices:
              - windows-test-001
          - objective: delay
            description: waiting for 3 seconds
            time: 3
          - description: Turning on all computers
            objective: poweroff
            devices:
              - linux-test-001
          - objective: delay
            description: waiting for 3 seconds
            time: 5
